<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WikiNova Ultra Futuriste</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(120deg, #0f0c29, #302b63, #24243e);
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      margin: 0;
      overflow: hidden;
    }
    .container {
      background: rgba(255,255,255,0.05);
      padding: 2rem;
      border-radius: 2rem;
      box-shadow: 0 0 20px rgba(255,255,255,0.2);
      width: 90%;
      max-width: 600px;
      animation: fadeIn 1s ease-out;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    input, textarea {
      width: 100%;
      padding: 1rem;
      margin: 0.5rem 0;
      border-radius: 1rem;
      border: none;
      background: #fff;
      color: #000;
      font-size: 1.2rem;
      resize: none;
    }
    textarea {
      min-height: 120px;
      max-height: 200px;
    }
    button {
      background: #00d9ff;
      border: none;
      padding: 1rem;
      width: 100%;
      border-radius: 1.5rem;
      color: black;
      font-weight: bold;
      font-size: 1.2rem;
      cursor: pointer;
      margin-top: 1rem;
      transition: background 0.3s;
    }
    button:hover {
      background: #00bfff;
    }
    .hidden { display: none; }
    .title {
      font-size: 2.2rem;
      text-align: center;
      margin-bottom: 1rem;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    .intro {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      text-align: center;
      max-width: 90%;
    }
    #response {
      margin-top: 1rem;
      font-size: 1.3rem;
      text-align: center;
      animation: fadeIn 0.5s ease-in;
      min-height: 60px;
    }
    a {
      color: #00d9ff;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container" id="step1">
    <h2>√âtape 1: Votre adresse e-mail</h2>
    <input type="email" id="email" placeholder="Entrez votre e-mail" />
    <button onclick="nextStep(2)">Suivant</button>
  </div>

  <div class="container hidden" id="step2">
    <h2>√âtape 2: Date de naissance</h2>
    <input type="date" id="birthdate" />
    <button onclick="nextStep(3)">Suivant</button>
  </div>

  <div class="container hidden" id="step3">
    <h2>√âtape 3: Cr√©ez votre mot de passe</h2>
    <input type="password" id="password" placeholder="Mot de passe" />
    <button onclick="register()">S'inscrire</button>
  </div>

  <div class="container hidden" id="welcome">
    <div class="title">ü§ñ WikiNova Ultra Futuriste</div>
    <div class="intro">Je suis une autre version d'intelligence artificielle qui peut r√©pondre √† vos besoins. Posez-moi n'importe quelle question et je vous le r√©pondrai.</div>
    <textarea id="inputText" placeholder="Tapez votre question ici..."></textarea>
    <button onclick="respond()">Envoyer</button>
    <div id="response"></div>
  </div>

  <audio id="voicePlayer"></audio>

  <script>
    let currentStep = 1;
    const kindWords = [
      "bonjour", "salut", "hey", "comment √ßa va", "enchant√©",
      "bienvenue", "merci", "bon courage", "f√©licitations", "tu peux le faire",
      // Ajoute ici plus de mots gentils si besoin, jusqu'√† 10 000.
    ];

    function nextStep(step) {
      document.getElementById(`step${currentStep}`).classList.add('hidden');
      currentStep = step;
      document.getElementById(`step${step}`).classList.remove('hidden');
    }

    function register() {
      const birthdate = new Date(document.getElementById("birthdate").value);
      const today = new Date();
      let age = today.getFullYear() - birthdate.getFullYear();
      const m = today.getMonth() - birthdate.getMonth();
      if (m < 0 || (m === 0 && today.getDate() < birthdate.getDate())) {
        age--;
      }
      if (age < 10) {
        alert("Tu dois avoir plus de 10 ans pour t'inscrire.");
        return;
      }
      document.getElementById("step3").classList.add('hidden');
      document.getElementById("welcome").classList.remove('hidden');
    }

    function respond() {
      const input = document.getElementById("inputText").value.trim().toLowerCase();
      let response = "";
      
      // D√©tection de demande d'aide priv√©e
      const helpTriggers = ["aide", "aider", "souci", "probl√®me", "d√©tresse", "besoin d'aide", "en priv√©"];
      if (helpTriggers.some(word => input.includes(word))) {
        response = `D√©sol√©, je suis juste l√† pour l'√©ducation, mais voici un lien <a href="https://chat.openai.com/" target="_blank" rel="noopener noreferrer">https://chat.openai.com/</a> ‚Äî il va t'aider. C‚Äôest un ami qui m‚Äôa aid√© √† me cr√©er moi-m√™me.`;
        showResponse(response, true);
        return;
      }

      // R√©ponse aux mots gentils
      if (kindWords.some(word => input.includes(word))) {
        response = "ü§ñ Merci pour ce mot gentil ! Moi aussi je suis content de te voir !";
        showResponse(response);
        return;
      }

      // R√©ponse g√©n√©rique simulant une recherche Wikip√©dia
      response = "üîé Chargement de l'article Wikip√©dia... (fonction simul√©e)";
      showResponse(response);
    }

    function showResponse(text, allowHtml = false) {
      const respEl = document.getElementById("response");
      if (allowHtml) {
        respEl.innerHTML = text;
      } else {
        respEl.textContent = text;
      }
      speak(respEl.textContent);
    }

    function speak(text) {
      const synth = window.speechSynthesis;
      if (!synth) return;
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = "fr-FR";
      synth.cancel();
      synth.speak(utterance);
    }
  </script>
</body>
</html>
